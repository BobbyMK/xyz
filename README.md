# Тестовое задание для XYZ
Само задание: [https://docs.google.com/document/d/1okILrMsC0qQ73ugqKJx5DGew0MjB1VJ85EhL-DXpq3o/edit]

## Первый запуск
`make run-start`

__Создает бд, роль, суперюзера, виртуальное окружение, устанавливает в venv зависимости, делает миграции,запускает тесты, восстанавливает дамп бд из backup и запускает сервер.__

# последующие запуски:
`make run-server`

# тесты:
`make run-test`

Функционал довольно простой, поэтому ограничился проходом по всему пайплайну пользователя.

## Заметки:
Скидка реализованна в виде синглтон модели, создание скидки заменяет существующую скидку, удалить скидку нельзя.
Скидка дублируется в файл .sale, чтобы prefetch продуктов не тянул за собой лишние запросы в базу.
Модель OrderItem является товаром в корзине или в заказе, соответственно ссылается либо на корзину, либо на заказ. Не разделял на OrderItem и CartItem, чтобы не плодить одинаковые модели, в таком небольшом приложении на читаемость кода это не сильно влияет.
Расчет месячных показателей я бы вынес в Celery и запускал бы раз в день(например).
